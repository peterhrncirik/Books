{% extends "layout.html" %}
{% block title %} Books | Book - {{ book.title }} {% endblock %}
{% load bootstrap4 %}
{% block body %}


<div class="container main-content book">

    
<nav aria-label="breadcrumb" class="my-4">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="{% url 'index' %}">Homepage</a></li>
      <li class="breadcrumb-item"><a href="{% url 'books' %}">Books</a></li>
      <li class="breadcrumb-item">Quick sell</li>
      <li class="breadcrumb-item active" aria-current="page"><a href="{% url 'book' book.id book.title|slugify %}">{{ book.title }}</a></li>
    </ol>
  </nav>

    <h3 class="text-center my-5">Offer new book for sale</h3>
    <div class="row d-flex">
        <div class="d-none d-md-block col-md-4">
            <img src="{{ book.cover.url }}" alt="{{ book.title }}-image" class="book-cover-img mb-4 shadow">
        </div>
        <div class="col-12 col-md-8">
                <img src="{{ book.cover.url }}" alt="{{ book.title }}-image" class="book-cover-img mb-4 shadow d-md-none">
                <div class="d-flex">
                  <h1>{{ book.title }} {% if book.is_sold %} </h1>
                  <span class="badge badge-warning my-auto ml-2 mb-md-auto ml-md-3">Book sold</span> {% endif %}
                </div>
                <p class="lead">{{ book.author }}</p>
                <div class="book-seller-info rounded">
                  <div class="row d-flex flex-column flex-md-row">
                      <div class="col-12 col-md-6">
                        <p> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-left-dots" viewBox="0 0 16 16">
                          <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v11.586l2-2A2 2 0 0 1 4.414 11H14a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                          <path d="M5 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                        </svg> Sprache: <span class="font-weight-bold">{{ book.language|title }}</span></p>
                        <p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tag" viewBox="0 0 16 16">
                          <path fill-rule="evenodd" d="M2 2v4.586l7 7L13.586 9l-7-7H2zM1 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2z"/>
                          <path fill-rule="evenodd" d="M4.5 5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zm0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
                        </svg> Kategorie: <a href="{% url 'category' book.category|slugify %}"><span class="font-weight-bold">{{ book.category|title }}</span></a></p>
                      </div>
                      <div class="col-12 col-md-6">
                        <p> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-text" viewBox="0 0 16 16">
                          <path fill-rule="evenodd" d="M14.5 3h-13a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
                          <path fill-rule="evenodd" d="M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"/>
                        </svg> Seitenzahl: <span class="font-weight-bold">{{ book.page_count }}</span></p>
                        <p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock" viewBox="0 0 16 16">
                          <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm8-7A8 8 0 1 1 0 8a8 8 0 0 1 16 0z"/>
                          <path fill-rule="evenodd" d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5z"/>
                        </svg> Erscheinungsjahr: <span class="font-weight-bold">{{ book.published_year|slice:4 }}</span></p>
                      </div>
                  </div>
                </div>
        </div>
    </div>
    <hr class="my-5">
    <form action="{% url 'book_quick_sell' book.id book.slug %}" method='POST'>
        {% csrf_token %}
        <div class="form-group">
            <label for="price">Price</label>
            <input type="number" class="form-control" name="price" id="price" placeholder="Price" required>
        </div>
        <div class="form-group">
            <label for="condition" class="mt-2">Condition:</label>
            <select class="form-control" name="condition" aria-label="condition" id="condition">
              <option value="Read" selected>Used</option>
              <option value="New">New</option>
              <option value="Old">Old</option>
            </select>
        </div>
        <div class="form-group mt-4">
            <p>Would you like to add <span style="text-decoration: underline; font-weight: bold; color: #33b5e5;" id="moreinfo">more information?</span></p>
            <textarea name="add_info" id="additional_info" cols="30" rows="10" class="form-control d-none" placeholder="Here you can mention anything regarding the book"></textarea>
          </div>
          <button type="submit" name="submit" class="btn btn-info">Einreichen</button>
    </form>
</div>

<script>
    const addInfo = document.querySelector('#moreinfo');
    addInfo.addEventListener('click', () => document.querySelector('#additional_info').classList.toggle('d-none'));
</script>

{% endblock %}